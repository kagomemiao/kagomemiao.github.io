<!doctype html><html class="theme-next muse use-motion" lang=zh-Hans><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta http-equiv=Cache-Control content=no-transform><meta http-equiv=Cache-Control content=no-siteapp><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel=stylesheet type=text/css><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel=stylesheet type=text/css><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel=stylesheet type=text/css><link href="/css/main.css?v=5.1.1" rel=stylesheet type=text/css><meta name=keywords content=hexo,解决办法,><link rel="shortcut icon" type=image/x-icon href="/favicon.ico?v=5.1.1"><meta name=description content="前言由于我为[music]分类单独设置了页面，所以不希望这个分页出现在首页。 在网上查找了很多办法:hexo-generator-index2比如使用插件hexo-generator-index2来替换hexo-generator-index，使其增加过滤功能。 但实际使用中，hexo-generator-index2的include/exclude开启后无法正常生成index.html 推断是由"><meta name=keywords content=hexo,解决办法><meta property=og:type content=article><meta property=og:title content=hexo首页只显示特定分类&#x2F;标签下的文章><meta property=og:url content=http://yoursite.com/2017/05/02/hexo-index-category-filter/index.html><meta property=og:site_name content="Katerina Wang"><meta property=og:description content="前言由于我为[music]分类单独设置了页面，所以不希望这个分页出现在首页。 在网上查找了很多办法:hexo-generator-index2比如使用插件hexo-generator-index2来替换hexo-generator-index，使其增加过滤功能。 但实际使用中，hexo-generator-index2的include/exclude开启后无法正常生成index.html 推断是由"><meta property=og:updated_time content=2017-05-04T06:43:00.060Z><meta name=twitter:card content=summary><meta name=twitter:title content=hexo首页只显示特定分类&#x2F;标签下的文章><meta name=twitter:description content="前言由于我为[music]分类单独设置了页面，所以不希望这个分页出现在首页。 在网上查找了很多办法:hexo-generator-index2比如使用插件hexo-generator-index2来替换hexo-generator-index，使其增加过滤功能。 但实际使用中，hexo-generator-index2的include/exclude开启后无法正常生成index.html 推断是由"><script type=text/javascript id=hexo.configurations>
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'TEV2OOFSE0',
      apiKey: 'dad8b64f262bc94101fce519798c7b97',
      indexName: 'git_BLOG',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script><link rel=canonical href="http://yoursite.com/2017/05/02/hexo-index-category-filter/"><title>hexo首页只显示特定分类/标签下的文章 | Katerina Wang</title></head><body itemscope itemtype=http://schema.org/WebPage lang=zh-Hans><div class="container sidebar-position-left page-post-detail"><div class=headband></div><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-wrapper><div class=site-meta><div class=custom-logo-site-title><a href="/" class=brand rel=start><span class=logo-line-before><i></i></span> <span class=site-title>Katerina Wang</span> <span class=logo-line-after><i></i></span></a></div><p class=site-subtitle>技术与生活</p></div><div class=site-nav-toggle><button><span class=btn-bar></span> <span class=btn-bar></span> <span class=btn-bar></span></button></div></div><nav class=site-nav><ul id=menu class=menu><li class="menu-item menu-item-home"><a href="/" rel=section><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-music"><a href=/categories/music rel=section><i class="menu-item-icon fa fa-fw fa-music"></i><br>音乐</a></li><li class="menu-item menu-item-about"><a href=/about rel=section><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class=site-search><div class="algolia-popup popup search-popup"><div class=algolia-search><div class=algolia-search-input-icon><i class="fa fa-search"></i></div><div class=algolia-search-input id=algolia-search-input></div></div><div class=algolia-results><div id=algolia-stats></div><div id=algolia-hits></div><div id=algolia-pagination class=algolia-pagination></div></div><span class=popup-btn-close><i class="fa fa-times-circle"></i></span></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><div id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><link itemprop=mainEntityOfPage href="http://yoursite.com/2017/05/02/hexo-index-category-filter/"><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=name content="Katerina Wang"><meta itemprop=description><meta itemprop=image content=/images/teresa.jpg></span> <span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Katerina Wang"></span><header class=post-header><h1 class=post-title itemprop="name headline">hexo首页只显示特定分类/标签下的文章</h1><div class=post-meta><span class=post-time><span class=post-meta-item-icon><i class="fa fa-calendar-o"></i></span> <span class=post-meta-item-text>发表于</span><time title=创建于 itemprop="dateCreated datePublished" datetime=2017-05-02T16:25:06+08:00>2017-05-02</time></span> <span class=post-category><span class=post-meta-divider>|</span> <span class=post-meta-item-icon><i class="fa fa-folder-o"></i></span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing><a href="/categories/solution/" itemprop=url rel=index><span itemprop=name>solution</span></a></span> ， <span itemprop=about itemscope itemtype=http://schema.org/Thing><a href="/categories/solution/hexo/" itemprop=url rel=index><span itemprop=name>hexo</span></a></span></span></div></header><div class=post-body itemprop=articleBody><h2 id=前言><a href=#前言 class=headerlink title=前言></a>前言</h2><p>由于我为[music]分类单独设置了页面，所以不希望这个分页出现在首页。</p><h2 id=在网上查找了很多办法><a href=#在网上查找了很多办法 class=headerlink title=在网上查找了很多办法:></a>在网上查找了很多办法:</h2><h4 id=hexo-generator-index2><a href=#hexo-generator-index2 class=headerlink title=hexo-generator-index2></a>hexo-generator-index2</h4><p>比如使用插件<a href=https://github.com/Jamling/hexo-generator-index2 target=_blank rel=external>hexo-generator-index2</a>来替换hexo-generator-index，使其增加过滤功能。</p><p><del>但实际使用中，hexo-generator-index2的include/exclude开启后无法正常生成index.html 推断是由于hexo版本更新到<font color=green>3.2</font>后推出了同样的include/exclude选项导致冲突。</del><div class="note warning"><p><del>Hexo 3.2更新后不允许配置文件中存在重复的选项设置。 因此，如果 站点配置文件 中存在同名的配置，则需要将两者配置在一起。</del></p></div><del>但可能由于这里两者功能不同，所以无法配置在一起。 需等待作者回复</del><div class="note info"><p><font color=blue>5/4</font>作者回复他的博客并没有出现上述问题</p></div></p><p>那这就是最佳的方法了，具体使用方式如下：</p><h5 id=安装><a href=#安装 class=headerlink title=安装></a>安装</h5><figure class="highlight plain"><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div></pre></td><td class=code><pre><div class=line>$ npm install hexo-generator-index2 --save</div><div class=line>$ npm uninstall hexo-generator-index --save</div></pre></td></tr></table></figure><p><em>*hexo-generator-index2包含了原始插件所有内容，并添加了过滤功能。</em></p><h5 id=配置选项><a href=#配置选项 class=headerlink title=配置选项></a>配置选项</h5><figure class="highlight plain"><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div></pre></td><td class=code><pre><div class=line>index_generator:</div><div class=line>  per_page: 10 # 每页显示文章数，设置0为不分页</div><div class=line>  order_by: -date # 文章排序，默认为按时间先后排序</div><div class=line>  include:</div><div class=line>    - category Web # 包含分类为&apos;Web&apos;的文章，可自行修改</div><div class=line>  exclude:</div><div class=line>    - tag Hexo # 过滤标签为&apos;Hexo&apos;的文章，可自行修改</div></pre></td></tr></table></figure><h5 id=选项说明><a href=#选项说明 class=headerlink title=选项说明></a>选项说明</h5><p><em>per_page</em>和<em>order_by</em>都是原始官方插件的选项，可以不用修改</p><p><em>include/exclude</em>可选属性有：</p><ul><li>category: 文章分类</li><li>tag: 文章标签</li><li>path: 文章路径</li></ul><p>使用过滤功能需在属性后添加具体过滤的值，格式可参照选项配置。</p><p>选项配置需添加在站点配置文件中。</p><h4 id=修改主题layout文件><a href=#修改主题layout文件 class=headerlink title=修改主题layout文件></a>修改主题layout文件</h4><p>这个方法是我在next主题的<a href=https://github.com/iissnan/hexo-theme-next/issues/843 target=_blank rel=external>github issues - 是否可以在主页只显示特定category下的文章</a>下找到的 由<a href=https://github.com/chenkaiwei target=_blank rel=external>@chenkaiwei</a>提出修改next主题layout-index.swig的方法以实现标签过滤<figure class="highlight plain"><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div></pre></td><td class=code><pre><div class=line>&lt;section id=&quot;posts&quot; class=&quot;posts-expand&quot;&gt;</div><div class=line>  &#123;% for post in page.posts %&#125;</div><div class=line>      &#123;% for tag in post.tags %&#125;</div><div class=line>          &#123;% if tag.name==&apos;&lt;tagname&gt;&apos; %&#125; </div><div class=line>              &#123;&#123; post_template.render(post, true) &#125;&#125;</div><div class=line>          &#123;% endif %&#125; </div><div class=line>      &#123;% endfor %&#125;</div><div class=line>  &#123;% endfor %&#125;</div><div class=line>&lt;/section&gt;</div></pre></td></tr></table></figure></p><p>经测试同样可以用于首页分类的过滤，只需要把tags替换为categories<figure class="highlight plain"><table><tr><td class=gutter><pre><div class=line>1</div><div class=line>2</div><div class=line>3</div><div class=line>4</div><div class=line>5</div><div class=line>6</div><div class=line>7</div><div class=line>8</div><div class=line>9</div></pre></td><td class=code><pre><div class=line>&lt;section id=&quot;posts&quot; class=&quot;posts-expand&quot;&gt;</div><div class=line>  &#123;% for post in page.posts %&#125;</div><div class=line>    &#123;% for categories in post.categories %&#125;</div><div class=line>      &#123;% if categories.name !== &apos;music&apos; %&#125;</div><div class=line>        &#123;&#123; post_template.render(post, true) &#125;&#125;</div><div class=line>      &#123;% endif %&#125;</div><div class=line>    &#123;% endfor %&#125;</div><div class=line>  &#123;% endfor %&#125;</div><div class=line>&lt;/section&gt;</div></pre></td></tr></table></figure></p></div><div></div><div></div><div></div><footer class=post-footer><div class=post-tags><a href="/tags/hexo/" rel=tag># hexo</a> <a href="/tags/解决办法/" rel=tag># 解决办法</a></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href="/2017/05/02/it-aint-me/" rel=next title="It ain't me - Selena Gomes/Kygo"><i class="fa fa-chevron-left"></i> It ain't me - Selena Gomes/Kygo</a></div><span class=post-nav-divider></span><div class="post-nav-prev post-nav-item"><a href="/2017/05/04/sunset/" rel=prev title="落日 - 東京事変">落日 - 東京事変 <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class=post-spread></div></div></div><div class=comments id=comments></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target=post-toc-wrap>文章目录</li><li class=sidebar-nav-overview data-target=site-overview>站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=/images/teresa.jpg alt="Katerina Wang"><p class=site-author-name itemprop=name>Katerina Wang</p><p class="site-description motion-element" itemprop=description>a personal blog about tech and life</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/"><span class=site-state-item-count>5</span> <span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/index.html><span class=site-state-item-count>4</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/index.html><span class=site-state-item-count>10</span> <span class=site-state-item-name>标签</span></a></div></nav><div class="links-of-author motion-element"><span class=links-of-author-item><a href=http://weibo.com/katerinasue target=_blank title=Weibo><i class="fa fa-fw fa-weibo"></i> Weibo</a></span></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class=post-toc><div class=post-toc-content><ol class=nav><li class="nav-item nav-level-2"><a class=nav-link href=#前言><span class=nav-number>1.</span> <span class=nav-text>前言</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#在网上查找了很多办法><span class=nav-number>2.</span> <span class=nav-text>在网上查找了很多办法:</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#hexo-generator-index2><span class=nav-number>2.0.1.</span> <span class=nav-text>hexo-generator-index2</span></a><ol class=nav-child><li class="nav-item nav-level-5"><a class=nav-link href=#安装><span class=nav-number>2.0.1.1.</span> <span class=nav-text>安装</span></a></li><li class="nav-item nav-level-5"><a class=nav-link href=#配置选项><span class=nav-number>2.0.1.2.</span> <span class=nav-text>配置选项</span></a></li><li class="nav-item nav-level-5"><a class=nav-link href=#选项说明><span class=nav-number>2.0.1.3.</span> <span class=nav-text>选项说明</span></a></li></ol></li><li class="nav-item nav-level-4"><a class=nav-link href=#修改主题layout文件><span class=nav-number>2.0.2.</span> <span class=nav-text>修改主题layout文件</span></a></li></ol></li></ol></div></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=copyright>&copy; <span itemprop=copyrightYear>2017</span> <span class=with-love><i class="fa fa-heart"></i></span> <span class=author itemprop=copyrightHolder>Katerina Wang</span></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i></div></div><script type=text/javascript>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script><script type=text/javascript src="/lib/jquery/index.js?v=2.1.3"></script><script type=text/javascript src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type=text/javascript src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type=text/javascript src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type=text/javascript src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type=text/javascript src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type=text/javascript src=/lib/canvas-nest/canvas-nest.min.js></script><script type=text/javascript src="/js/src/utils.js?v=5.1.1"></script><script type=text/javascript src="/js/src/motion.js?v=5.1.1"></script><script type=text/javascript src="/js/src/scrollspy.js?v=5.1.1"></script><script type=text/javascript src="/js/src/post-details.js?v=5.1.1"></script><script type=text/javascript src="/js/src/bootstrap.js?v=5.1.1"></script><link rel=stylesheet href=/lib/algolia-instant-search/instantsearch.min.css><script src=/lib/algolia-instant-search/instantsearch.min.js></script><script src="/js/src/algolia-search.js?v=5.1.1"></script><script type=text/javascript count=77 src=//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js></script></body></html>